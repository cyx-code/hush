<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>hush-add</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="shortcut icon" th:href="@{/images/favicon.png}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>

<link rel="stylesheet" href="/admin/lib/editormd/css/editormd.css" />
<div th:replace="admin/common/css" />
<body>
<div id="app">
    <el-container>
        <el-aside :style="menuWidth">
            <div class="collapseButton" :style="forCollapse" @click="handleCollapse"><img width="100%" height="auto" :src="imgAddr"></div>
            <el-menu default-active="2-2" class="el-menu-vertical-demo" :collapse="isCollapse">
                <el-menu-item index="1">
                        <i class="el-icon-s-home"></i>
                        <span slot="title">首&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;页</span>
                </el-menu-item>
                <el-submenu index="2">
                    <template slot="title">
                        <i class="el-icon-document"></i>
                        <span slot="title">文章管理</span>
                    </template>
                    <el-menu-item index="2-1" @click="listArticle">文章列表</el-menu-item>
                    <el-menu-item index="2-2" @click="writeArticle">发布文章</el-menu-item>
                </el-submenu>
                <el-menu-item index="3">
                    <i class="el-icon-menu"></i>
                    <span slot="title">博客管理</span>
                </el-menu-item>
                <el-menu-item index="4">
                    <i class="el-icon-document"></i>
                    <span slot="title">系统管理</span>
                </el-menu-item>
            </el-menu>
        </el-aside>
        <el-container>
            <el-header>Header</el-header>
            <el-main>
                <div id="layout" class="editor">
                    <div id="test-editormd">
                        <textarea></textarea>
                    </div>
                </div>
            </el-main>
        </el-container>
    </el-container>
</div>

</body>
<script src="/admin/lib/editormd/jquery.min.js"></script>
<script src="/admin/lib/editormd/editormd.min.js"></script>
<div th:replace="admin/common/js"/>
<script >
    new Vue({
       el: "#app",
       data() {
           return {
               isCollapse: false,
               imgAddr: '/images/back.png',
               menuWidth: {width: '200px'},
               forCollapse: {marginLeft: '188px'}
           }
       },
        methods: {
            listArticle() {

            },
            writeArticle() {
                window.location.href = '/admin/article/write';
            },
           handleCollapse() {
               this.isCollapse = !this.isCollapse;
               if (this.isCollapse) {
                   this.menuWidth = {width: '64px'};
                   this.forCollapse = {marginLeft: '49px'}
                   this.imgAddr = '/images/next.png'
               } else {
                   this.menuWidth = {width: '200px'};
                   this.forCollapse = {marginLeft: '188px'}
                   this.imgAddr = '/images/back.png'

               }
            }
        }
    });
    editormd("test-editormd", {
        placeholder:'本编辑器支持Markdown编辑，左边编写，右边预览',  //默认显示的文字，这里就不解释了
        width: "90%",
        height: 640,
        syncScrolling: "single",
        path: "/admin/lib/editormd/lib/",   //你的path路径（原资源文件中lib包在我们项目中所放的位置）
        // theme: "dark",//工具栏主题
        // previewTheme: "dark",//预览主题
        // editorTheme: "pastel-on-dark",//编辑主题
        saveHTMLToTextarea: true,
        emoji: false,
        taskList: true,
        tocm: true,         // Using [TOCM]
        tex: true,                   // 开启科学公式TeX语言支持，默认关闭
        flowChart: true,             // 开启流程图支持，默认关闭
        sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,
        toolbarIcons : function() {  //自定义工具栏，后面有详细介绍
            return editormd.toolbarModes['simple']; // full, simple, mini
        },
    });
</script>
</html>
